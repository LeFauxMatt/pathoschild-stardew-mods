/*

    This file adds the Central Station location and its related data.

*/
{
    "$schema": "https://smapi.io/schemas/content-patcher.json",

    "Changes": [
        // add location
        {
            "Action": "EditData",
            "Target": "Data/Locations",
            "Entries": {
                "{{MainModId}}_CentralStation": {
                    "DisplayName": "{{i18n: destinations.central-station}}",
                    "CreateOnLoad": {
                        "MapPath": "Maps/{{MainModId}}"
                    }
                }
            }
        },
        {
            "Action": "Load",
            "Target": "Maps/{{MainModId}}",
            "FromFile": "assets/centralStation.tmx"
        },

        // add to world map
        {
            "Action": "EditData",
            "Target": "Data/WorldMap",
            "TargetField": [ "Valley", "MapAreas" ],
            "Entries": {
                "{{MainModId}}_CentralStation": {
                    "Id": "{{MainModId}}_CentralStation",
                    "PixelArea": { // bottom-left corner, implying it's somewhere to the left on the coast
                        "X": 0,
                        "Y": 146,
                        "Width": 1,
                        "Height": 1
                    },
                    "ScrollText": "{{i18n: destinations.central-station}}",
                    "WorldPositions": [
                        {
                            "Id": "CentralStation",
                            "LocationName": "{{MainModId}}_CentralStation"
                        }
                    ]
                }
            }
        },

        // book shelf flavor text
        {
            "Action": "Load",
            "Target": "Mods/{{MainModId}}/Bookshelf",
            "FromFile": "assets/empty.json"
        },
        {
            "Action": "EditData",
            "Target": "Mods/{{MainModId}}/Bookshelf",
            "Entries": {
                "{{MainModId}}": [
                    "{{i18n: books.cooking.1}}",

                    "{{i18n: books.geography.1}}",
                    "{{i18n: books.geography.2}}",
                    "{{i18n: books.geography.3}}",
                    "{{i18n: books.geography.4}}",
                    "{{i18n: books.geography.5}}",
                    "{{i18n: books.geography.6}}",

                    "{{i18n: books.history.1}}",
                    "{{i18n: books.history.2}}",
                    "{{i18n: books.history.3}}",
                    "{{i18n: books.history.4}}",
                    "{{i18n: books.history.5}}",
                    "{{i18n: books.history.6}}",

                    "{{i18n: books.promotional.1}}",

                    "{{i18n: books.religion.1}}",

                    "{{i18n: books.science.1}}"
                ]
            }
        },

        // add location messages
        {
            "Action": "EditData",
            "Target": "Strings/StringsFromMaps",
            "Entries": {
                "{{MainModId}}_TransitAreaDoors": "{{i18n: location-flavor.transit-area-doors}}"
            }
        },

        // chair data
        {
            "Action": "EditData",
            "Target": "Data/ChairTiles",
            "Entries": {
                "centralStation/5/7": "1/1/down/custom 0.25 0.25 0/-1/-1/false",
                "centralStation/6/7": "1/1/down/bench/-1/-1/false",
                "centralStation/7/7": "1/1/down/custom -0.25 0.25 0/-1/-1/false",
                "centralStation/5/9": "1/1/right/custom 0.25 0.3 0/-1/-1/false",
                "centralStation/7/9": "1/1/left/custom -0.25 0.3 0/-1/-1/false",
                "centralStation/8/10": "1/1/up/custom 0.25 0 0.1/8/7/false/{{FormatAssetName: {{InternalAssetKey: assets/centralStation.png}} |separator=\\}}",
                "centralStation/9/10": "1/1/up/highback_chair/9/7/false/{{FormatAssetName: {{InternalAssetKey: assets/centralStation.png}} |separator=\\}}",
                "centralStation/10/10": "1/1/up/custom -0.25 0 0.1/9/7/false/{{FormatAssetName: {{InternalAssetKey: assets/centralStation.png}} |separator=\\}}"
            }
        },

        // add warp via CJB Cheats Menu
        {
            "Action": "EditData",
            "Target": "Mods/CJBok.CheatsMenu/Warps",
            "Entries": {
                "{{MainModId}}_CentralStation": {
                    "Id": "{{MainModId}}_CentralStation",
                    "SectionId": "main",
                    "DisplayName": "{{i18n: destinations.central-station}}",
                    "Location": "{{MainModId}}_CentralStation",
                    "Tile": "37, 9"
                }
            }
        }
    ]
}
